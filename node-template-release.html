<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Frontier Node Template Release Process | Frontier</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Ethereum compatibility layer for Substrate">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/frontier/assets/css/0.styles.63af2db7.css" as="style"><link rel="preload" href="/frontier/assets/js/app.f8e3c637.js" as="script"><link rel="preload" href="/frontier/assets/js/2.65699500.js" as="script"><link rel="preload" href="/frontier/assets/js/1.60f972cd.js" as="script"><link rel="preload" href="/frontier/assets/js/27.14f410ec.js" as="script"><link rel="prefetch" href="/frontier/assets/js/10.8c8fc0ee.js"><link rel="prefetch" href="/frontier/assets/js/11.75a4c66a.js"><link rel="prefetch" href="/frontier/assets/js/12.d5d9dd87.js"><link rel="prefetch" href="/frontier/assets/js/13.a0987385.js"><link rel="prefetch" href="/frontier/assets/js/14.ff6659b8.js"><link rel="prefetch" href="/frontier/assets/js/15.5638655d.js"><link rel="prefetch" href="/frontier/assets/js/16.3dbd44d8.js"><link rel="prefetch" href="/frontier/assets/js/17.6c0fd7ec.js"><link rel="prefetch" href="/frontier/assets/js/18.2e68d933.js"><link rel="prefetch" href="/frontier/assets/js/19.7cda5482.js"><link rel="prefetch" href="/frontier/assets/js/20.567981c9.js"><link rel="prefetch" href="/frontier/assets/js/21.8ff64cfc.js"><link rel="prefetch" href="/frontier/assets/js/22.cad825e1.js"><link rel="prefetch" href="/frontier/assets/js/23.073c44da.js"><link rel="prefetch" href="/frontier/assets/js/24.89cfa45e.js"><link rel="prefetch" href="/frontier/assets/js/25.cba16b40.js"><link rel="prefetch" href="/frontier/assets/js/26.69d51e9c.js"><link rel="prefetch" href="/frontier/assets/js/28.d8732020.js"><link rel="prefetch" href="/frontier/assets/js/3.7ce10896.js"><link rel="prefetch" href="/frontier/assets/js/4.0d310acb.js"><link rel="prefetch" href="/frontier/assets/js/5.012ba858.js"><link rel="prefetch" href="/frontier/assets/js/6.d86a6a22.js"><link rel="prefetch" href="/frontier/assets/js/7.ae7f0acf.js"><link rel="prefetch" href="/frontier/assets/js/vendors~docsearch.4849e3bc.js">
    <link rel="stylesheet" href="/frontier/assets/css/0.styles.63af2db7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontier/" class="home-link router-link-active"><!----> <span class="site-name">Frontier</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://paritytech.github.io/frontier/rustdocs/pallet_evm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API reference
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/paritytech/frontier" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://paritytech.github.io/frontier/rustdocs/pallet_evm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API reference
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/paritytech/frontier" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/frontier/overview.html" class="sidebar-link">Overview</a></li><li><a href="/frontier/frame/evm.html" class="sidebar-link">EVM pallet</a></li><li><a href="/frontier/frame/ethereum.html" class="sidebar-link">Ethereum pallet</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="frontier-node-template-release-process"><a href="#frontier-node-template-release-process" class="header-anchor">#</a> Frontier Node Template Release Process</h1> <blockquote><p>NOTE: this based on the
<a href="https://github.com/paritytech/substrate/blob/master/docs/node-template-release.md" target="_blank" rel="noopener noreferrer">Subtrate node template release process<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> -</p></blockquote> <ol><li><p>Clone and checkout the <code>main</code> branch of the
<a href="https://github.com/substrate-developer-hub/frontier-node-template/" target="_blank" rel="noopener noreferrer">Frontier Node Template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
Note the path to this directory.</p></li> <li><p>This release process has to be run in a github checkout Frontier directory with your work
committed into <code>https://github.com/paritytech/frontier/</code>, because the build script will check
the existence of your current git commit ID in the remote repository.</p> <div class="language- extra-class"><pre><code>Assume you are in the root directory of Frontier. Run:

```bash
cd .maintain/
./node-template-release.sh TEMPLATE.tar.gz
```
</code></pre></div></li> <li><p>Expand the output tar gzipped file that is created in the top level working dir of Frontier and
replace files in current Frontier Node Template by running the following command:</p> <div class="language- extra-class"><pre><code>```bash
# Note the file will be placed in the top level working dir of Frontier
# Move the archive to wherever you like...
tar xvzf TEMPLATE.tar.gz
# This is where the tar.gz file uncompressed
cd frontier-node-template
# rsync with force copying. Note the slash at the destination directory is important
rsync -avh * &lt;destination node-template directory&gt;/
# For dry-running add `-n` argument
# rsync -avhn * &lt;destination node-template directory&gt;/
```

The above command only copies existing files from the source to the destination, but does not
delete files/directories that are removed from the source. So you need to manually check and
remove them in the destination.
</code></pre></div></li> <li><p>There are actually two packages in the Node Template, <code>frontier-node-template</code> (the node),
<code>frontier-template-runtime</code> (the runtime); Each has its' own <code>Cargo.toml</code>. Inside these three
files, dependencies are listed in expanded form and linked to a certain git commit in Frontier
remote repository, such as:</p> <div class="language- extra-class"><pre><code>```toml
[dev-dependencies.sp-core]
default-features = false
git = 'https://github.com/paritytech/substrate.git'
rev = 'c1fe59d060600a10eebb4ace277af1fee20bad17'
version = '3.0.0'
```

We will update each of them to the shortened form and link them to the Rust
[crate registry](https://crates.io/). After confirming the versioned package is published in
the crate, the above will become:

```toml
[dev-dependencies]
sp-core = { version = '3.0.0', default-features = false }
```

P.S: This step can be automated if we update `node-template-release` package in
`.maintain/node-template-release`.
</code></pre></div></li> <li><p>Once the three <code>Cargo.toml</code>s are updated, compile and confirm that the Node Template builds.
Then commit the changes to a new branch in
<a href="https://github.com/substrate-developer-hub/frontier-node-template" target="_blank" rel="noopener noreferrer">Substrate Node Template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,
and make a PR.</p> <div class="language- extra-class"><pre><code>&gt; Note that there is a chance the code in Substrate Node Template works with the linked Substrate git
commit but not with published packages due to the latest (as yet) unpublished features. In this case,
rollback that section of the Node Template to its previous version to ensure the Node Template builds.
</code></pre></div></li> <li><p>Once the PR is merged, tag the merged commit in master branch with the version number <code>vX.Y.Z+A</code>
(e.g. <code>v3.0.0+1</code>). The <code>X</code>(major), <code>Y</code>(minor), and <code>Z</code>(patch) version number should follow
Substrate release version. The last digit is any significant fixes made in the Substrate Node
Template apart from Substrate. When the Substrate version is updated, this digit is reset to 0.</p></li></ol> <h2 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h2> <ul><li><p>Running the script <code>./node-template-release.sh &lt;output tar.gz file&gt;</code>, after all tests passed
successfully, seeing the following error message:</p> <div class="language- extra-class"><pre><code>```
thread 'main' panicked at 'Creates output file: Os { code: 2, kind: NotFound, message: &quot;No such file or directory&quot; }', src/main.rs:250:10
</code></pre></div><p>note: run with <code>RUST_BACKTRACE=1</code> environment variable to display a backtrace ```</p> <div class="language- extra-class"><pre><code>This is likely due to that your output path is not a valid `tar.gz` filename or you don't have write
permission to the destination. Try with a simple output path such as `~/node-tpl.tar.gz`.
</code></pre></div></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/frontier/assets/js/app.f8e3c637.js" defer></script><script src="/frontier/assets/js/2.65699500.js" defer></script><script src="/frontier/assets/js/1.60f972cd.js" defer></script><script src="/frontier/assets/js/27.14f410ec.js" defer></script>
  </body>
</html>
